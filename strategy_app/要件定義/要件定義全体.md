# 耐久レース戦略アプリ — 要件まとめ  
*更新: 2025-05-28*

---

## 1. 目的  
バイク耐久レースにおいて **燃料・ピットイン・ライダー順** をリアルタイムに最適化し、  
計画 vs 実績のギャップを即時可視化する戦略支援ツール。

---

## 2. ユーザー / 運用シーン
| 役割 | 端末 | 権限 |
| --- | --- | --- |
| 戦略担当者 | PC (ブラウザ) | すべての編集・閲覧 |
| ライダー / ピットクルー | スマホ | 閲覧のみ |

---

## 3. 対象データ
- **計画入力**: 手動  
  - ライダー順、周区間、Fuel Type、目標ラップタイム  
- **実績取得**: MySQL に格納される公式計時データを自動ポーリング／WebSocket 取得  
- **外部連携**: 車両センサ・天候 API など **今回は連携しない**

---

## 4. 機能 (MVP)
1. **ライダー管理**  
   - 名前 / 想定ラップタイム / デフォルト燃費 (任意)
2. **Fuel Type 管理**  
   - 最大 10 種類、単位 **L/周**
3. **区間エディタ**  
   - 区間一括適用 (開始周–終了周 + FuelType + ライダー + ピットフラグ)  
   - インライン編集／ドラッグ操作可
4. **ダッシュボード**  
   - 残燃料・周回可能数・次ピット ETA  
   - ラップチャート (計画 vs 実績)  
   - 燃料予測曲線  
   - ピット予定ガントチャート
5. **リアルタイム更新**  
   - WebSocket で ≤ 5 秒 以内に実績ラップ反映
6. **レース後エクスポート**  
   - CSV / PDF（計画・実績差分）


7. UI 優先度 / 画面構成
ライダー管理

区間エディタ

ダッシュボード

8. 技術スタック
Next.js (App Router) + React 18

Prisma + MySQL (既存 DB)

WebSocket (Socket.IO) for live data

チャート: Recharts / ECharts

デプロイ: Vercel